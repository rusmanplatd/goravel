{{define "calendar/index.tmpl"}}
    {{template "layouts/header.tmpl" .}}
    {{template "layouts/nav.tmpl" .}}

    <!-- Page Content -->
    <main class="container py-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h1 class="h3 fw-semibold text-dark mb-1">Calendar</h1>
        <p class="text-muted mb-0">Manage your events and schedule</p>
    </div>
    <div>
        <a href="/calendar/create" class="btn btn-primary">
            <i class="fas fa-plus me-2"></i>Create Event
        </a>
    </div>
</div>

<div class="row">
    <!-- Calendar View -->
    <div class="col-lg-8">
        <div class="card shadow-sm">
            <div class="card-header bg-white border-bottom">
                <div class="d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">January 2024</h5>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-outline-secondary btn-sm">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button type="button" class="btn btn-outline-secondary btn-sm">Today</button>
                        <button type="button" class="btn btn-outline-secondary btn-sm">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="card-body p-0">
                <!-- Calendar Grid -->
                <div class="calendar-grid">
                    <!-- Calendar Header -->
                    <div class="calendar-header">
                        <div class="calendar-day-header">Sun</div>
                        <div class="calendar-day-header">Mon</div>
                        <div class="calendar-day-header">Tue</div>
                        <div class="calendar-day-header">Wed</div>
                        <div class="calendar-day-header">Thu</div>
                        <div class="calendar-day-header">Fri</div>
                        <div class="calendar-day-header">Sat</div>
                    </div>
                    
                    <!-- Calendar Days -->
                    <div class="calendar-body">
                        <!-- Week 1 -->
                        <div class="calendar-day other-month">31</div>
                        <div class="calendar-day">1</div>
                        <div class="calendar-day">2</div>
                        <div class="calendar-day">3</div>
                        <div class="calendar-day">4</div>
                        <div class="calendar-day">5</div>
                        <div class="calendar-day">6</div>
                        
                        <!-- Week 2 -->
                        <div class="calendar-day">7</div>
                        <div class="calendar-day">8</div>
                        <div class="calendar-day">9</div>
                        <div class="calendar-day">10</div>
                        <div class="calendar-day">11</div>
                        <div class="calendar-day">12</div>
                        <div class="calendar-day">13</div>
                        
                        <!-- Week 3 -->
                        <div class="calendar-day">14</div>
                        <div class="calendar-day today">
                            15
                            <div class="event-indicator bg-primary" title="Team Meeting"></div>
                        </div>
                        <div class="calendar-day">16</div>
                        <div class="calendar-day">17</div>
                        <div class="calendar-day">
                            18
                            <div class="event-indicator bg-danger" title="Project Deadline"></div>
                        </div>
                        <div class="calendar-day">19</div>
                        <div class="calendar-day">
                            20
                            <div class="event-indicator bg-success" title="Client Presentation"></div>
                        </div>
                        
                        <!-- Week 4 -->
                        <div class="calendar-day">21</div>
                        <div class="calendar-day">
                            22
                            <div class="event-indicator bg-info" title="Training Session"></div>
                        </div>
                        <div class="calendar-day">23</div>
                        <div class="calendar-day">24</div>
                        <div class="calendar-day">25</div>
                        <div class="calendar-day">26</div>
                        <div class="calendar-day">27</div>
                        
                        <!-- Week 5 -->
                        <div class="calendar-day">28</div>
                        <div class="calendar-day">29</div>
                        <div class="calendar-day">30</div>
                        <div class="calendar-day">31</div>
                        <div class="calendar-day other-month">1</div>
                        <div class="calendar-day other-month">2</div>
                        <div class="calendar-day other-month">3</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Sidebar -->
    <div class="col-lg-4">
        <!-- Upcoming Events -->
        <div class="card shadow-sm mb-4">
            <div class="card-header bg-white border-bottom">
                <h6 class="mb-0"><i class="fas fa-clock me-2"></i>Upcoming Events</h6>
            </div>
            <div class="card-body p-0">
                {{range .upcoming_events}}
                <div class="d-flex align-items-center p-3 border-bottom">
                    <div class="me-3">
                        {{if eq .type "meeting"}}
                        <div class="rounded-circle bg-primary d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                            <i class="fas fa-users text-white"></i>
                        </div>
                        {{else if eq .type "deadline"}}
                        <div class="rounded-circle bg-danger d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                            <i class="fas fa-exclamation text-white"></i>
                        </div>
                        {{else if eq .type "presentation"}}
                        <div class="rounded-circle bg-success d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                            <i class="fas fa-presentation text-white"></i>
                        </div>
                        {{end}}
                    </div>
                    <div class="flex-grow-1">
                        <h6 class="mb-1">{{.title}}</h6>
                        <small class="text-muted">{{.date}}</small>
                    </div>
                    <a href="/calendar/{{.id}}" class="btn btn-sm btn-outline-primary">
                        <i class="fas fa-eye"></i>
                    </a>
                </div>
                {{end}}
            </div>
        </div>
        
        <!-- Quick Actions -->
        <div class="card shadow-sm">
            <div class="card-header bg-white border-bottom">
                <h6 class="mb-0"><i class="fas fa-bolt me-2"></i>Quick Actions</h6>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <a href="/calendar/create" class="btn btn-primary btn-sm">
                        <i class="fas fa-plus me-2"></i>New Event
                    </a>
                    <button class="btn btn-outline-secondary btn-sm">
                        <i class="fas fa-sync me-2"></i>Sync Calendar
                    </button>
                    <button class="btn btn-outline-secondary btn-sm">
                        <i class="fas fa-download me-2"></i>Export Events
                    </button>
                    <button class="btn btn-outline-secondary btn-sm">
                        <i class="fas fa-cog me-2"></i>Settings
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.calendar-grid {
    display: grid;
    grid-template-rows: auto 1fr;
}

.calendar-header {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    background-color: #f8f9fa;
}

.calendar-day-header {
    padding: 12px 8px;
    text-align: center;
    font-weight: 600;
    font-size: 0.875rem;
    color: #6c757d;
    border-right: 1px solid #dee2e6;
}

.calendar-day-header:last-child {
    border-right: none;
}

.calendar-body {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(5, 1fr);
}

.calendar-day {
    min-height: 80px;
    padding: 8px;
    border-right: 1px solid #dee2e6;
    border-bottom: 1px solid #dee2e6;
    position: relative;
    cursor: pointer;
    transition: background-color 0.2s;
}

.calendar-day:hover {
    background-color: #f8f9fa;
}

.calendar-day:last-child {
    border-right: none;
}

.calendar-day.today {
    background-color: #e3f2fd;
    font-weight: 600;
    color: #1976d2;
}

.calendar-day.other-month {
    color: #adb5bd;
    background-color: #f8f9fa;
}

.event-indicator {
    position: absolute;
    bottom: 4px;
    left: 4px;
    right: 4px;
    height: 4px;
    border-radius: 2px;
}
</style>

<script>
$(document).ready(function() {
    // Calendar day click handler
    $('.calendar-day').on('click', function() {
        if (!$(this).hasClass('other-month')) {
            const day = $(this).text().trim();
            console.log('Clicked on day:', day);
            // You can add functionality to create events on specific days here
        }
    });
    
    // Event indicator hover
    $('.event-indicator').on('mouseenter', function() {
        const title = $(this).attr('title');
        $(this).attr('data-bs-toggle', 'tooltip');
        $(this).attr('data-bs-title', title);
        new bootstrap.Tooltip(this);
    });
});
</script>
    </main>

    {{template "layouts/footer.tmpl" .}}
{{end}} 